{"ast":null,"code":"var clone = require('./clone'),\n    key = require('./key'),\n    by = require('./by'),\n    is = require('./is');\n\nmodule.exports = function join(left, right) {\n  if (arguments.length == 1) {\n    right = left;\n    left = null;\n  }\n\n  return function (d, uid) {\n    if (d === null || d === undefined) return undefined;\n    var table = right || [],\n        field = null;\n    if (!uid || is.num(uid)) uid = 'id';\n\n    if (is.str(right)) {\n      var array = right.split('.');\n      table = ripple(array.shift());\n      field = array.join('.');\n    }\n\n    var id = key(left)(d),\n        val = table.filter(by(uid, id)).map(key(field)).pop() || {};\n    return left ? key(left, val)(d) : val;\n  };\n};","map":null,"metadata":{},"sourceType":"script"}