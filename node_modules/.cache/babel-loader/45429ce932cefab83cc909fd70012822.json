{"ast":null,"code":"/**\r\n * node-compress-commons\r\n *\r\n * Copyright (c) 2014 Chris Talkington, contributors.\r\n * Licensed under the MIT license.\r\n * https://github.com/archiverjs/node-compress-commons/blob/master/LICENSE-MIT\r\n */\nvar Stream = require('stream').Stream;\n\nvar PassThrough = require('readable-stream').PassThrough;\n\nvar util = module.exports = {};\n\nutil.isStream = function (source) {\n  return source instanceof Stream;\n};\n\nutil.normalizeInputSource = function (source) {\n  if (source === null) {\n    return new Buffer(0);\n  } else if (typeof source === 'string') {\n    return new Buffer(source);\n  } else if (util.isStream(source) && !source._readableState) {\n    var normalized = new PassThrough();\n    source.pipe(normalized);\n    return normalized;\n  }\n\n  return source;\n};","map":null,"metadata":{},"sourceType":"script"}