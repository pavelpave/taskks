{"ast":null,"code":"var _ = require('lodash');\n\nvar httpConfig = {\n  timeout: undefined,\n  retries: 3,\n  retryDelay: 15,\n  baseUrl: undefined,\n  proxy: undefined,\n  rejectUnauthorized: true\n};\n\nfunction _configureHttp(httpConfig, opts) {\n  _(_.keys(httpConfig)).intersection(_.keys(opts)).each(function (key) {\n    switch (key) {\n      case 'timeout':\n        if (opts[key] === 'default') {\n          opts[key] = undefined;\n        }\n\n        break;\n\n      case 'retries':\n        if (opts[key] === 'always') {\n          opts[key] = 0;\n        }\n\n        if (opts[key] === 'never') {\n          opts[key] = -1;\n        }\n\n        break;\n    }\n\n    httpConfig[key] = opts[key];\n  }, this);\n}\n\nfunction configureHttp(opts) {\n  _configureHttp(httpConfig, opts);\n}\n\nmodule.exports = {\n  httpConfig: httpConfig,\n  _configureHttp: _configureHttp,\n  configureHttp: configureHttp\n};","map":null,"metadata":{},"sourceType":"script"}